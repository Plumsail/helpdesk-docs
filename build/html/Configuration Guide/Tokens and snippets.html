

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tokens and snippets &mdash; HelpDesk Documentation 2.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="HelpDesk Documentation 2.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Triggers" href="Triggers.html"/>
        <link rel="next" title="Workflows customization" href="Workflow customization.html"/>
        <link rel="prev" title="Condition syntax" href="Condition Syntax.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HelpDesk Documentation
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Getting Started/Installation.html">HelpDesk installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Getting Started/License installation.html">License Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Getting Started/Quick HelpDesk configuration.html">Quick HelpDesk configuration</a></li>
<li class="toctree-l1"><a class="reference external" href="https://plumsail.com/forum/viewforum.php?f=33">Community forum</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuration guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Email settings.html">Email settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Triggers.html">Triggers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Triggers.html#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="Triggers.html#condition">Condition</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="Triggers.html#actions">Actions</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="Triggers.html#send-email">Send Email</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Tokens and snippets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Triggers.html#start-workflow">Start Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="Triggers.html#set-field">Set Field</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Scheduling.html">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Navigation.html">Navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Color theme.html">Color theme</a></li>
<li class="toctree-l1"><a class="reference internal" href="Statuses customization.html">Statuses customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reports customization.html">Reports customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Forms customization.html">Customize forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="How to change home page.html">How to change home page</a></li>
<li class="toctree-l1"><a class="reference internal" href="Upgrade manager.html">Upgrade manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="Uninstall HelpDesk.html">Uninstall HelpDesk</a></li>
</ul>
<p class="caption"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/Home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/Ticket management.html">Ticket management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/Knowledge base.html">Knowledge base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/All tickets.html">All tickets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/Contacts.html">Contacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/Reports.html">Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Use cases and overviews</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.youtube.com/watch?v=rcA34gRC27c">Video overview</a></li>
<li class="toctree-l1"><a class="reference external" href="https://plumsail.com/blog/2015/11/build-it-help-desk-or-service-desk-on-your-sharepoint-online-or-sharepoint-2013-on-premises-in-15-minutes/">Build IT Help Desk or Service Desk in 15 minutes</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://www.learningsharepoint.com/2013/09/05/how-to-set-a-page-as-home-page-in-sharepoint-2013-site/">How to change home page</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">HelpDesk Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="https://plumsail.com/sharepoint-helpdesk/">Product</a> &raquo;</li>
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="Triggers.html">Triggers</a> &raquo;</li>
      
    <li>Tokens and snippets</li>

    <li class="wy-breadcrumbs-aside">
        <a href="https://plumsail.com/sharepoint-helpdesk/store/" class="btn btn-neutral float-right pl-nav-btn">Buy It</a>
    </li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://plumsail.com/sharepoint-helpdesk/download/" class="btn btn-neutral float-right pl-nav-btn">Try It</a>
    </li> 
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tokens-and-snippets">
<h1>Tokens and snippets<a class="headerlink" href="#tokens-and-snippets" title="Permalink to this headline">¶</a></h1>
<p>Take a look at the sample template below. You are able to use custom
tokens inside templates, we call them <a class="reference external" href="#snippet">snippets</a> and <a class="reference external" href="#context-tokens">context tokens</a>.</p>
<p><img alt="HelpDesk Message Template" src="../_images/message-templates-0.png" /></p>
<div class="section" id="snippets">
<span id="snippet"></span><h2>Snippets<a class="headerlink" href="#snippets" title="Permalink to this headline">¶</a></h2>
<p>Snippet is a small part of a template that will be inserted in the
resulting message template. Current version doesn’t support snippet
customization, but there is a list of built in snippets. Snippet is
denoted by double square brackets.</p>
<dl class="glossary docutils">
<dt id="term-allcomments">[[AllComments]]</dt>
<dd>Renders a list of all comments for current ticket.</dd>
<dt id="term-publiccomments">[[PublicComments]]</dt>
<dd>Renders a list of public comments for current ticket.</dd>
<dt id="term-styles">[[Styles]]</dt>
<dd>Sets the style of email message to the default HelpDesk style via CSS.</dd>
<dt id="term-ticketinfo">[[TicketInfo]]</dt>
<dd>Renders a summary for current tickets as a table.</dd>
</dl>
</div>
<div class="section" id="context-tokens">
<span id="id1"></span><h2>Context Tokens<a class="headerlink" href="#context-tokens" title="Permalink to this headline">¶</a></h2>
<p>You can use context tokens to access HelpDesk entities like current list
item, current ticket or current site URL.</p>
<p class="rubric">Ticket token</p>
<p>You can use <code class="docutils literal"><span class="pre">{{Ticket}}</span></code> token to retrieve field values from the current
ticket. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">Ticket</span><span class="o">.</span><span class="n">FieldName</span><span class="p">}}</span>
</pre></div>
</div>
<p>Where FieldName is the internal name of a field which you want to
retrieve.</p>
<p>Some live examples:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">Ticket</span><span class="o">.</span><span class="n">ID</span><span class="p">}}</span>
<span class="p">{{</span><span class="n">Ticket</span><span class="o">.</span><span class="n">Title</span><span class="p">}}</span>
</pre></div>
</div>
<p>You also can retrieve values from related lists via a lookup field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">Ticket</span><span class="o">.</span><span class="n">LookupFieldName</span><span class="o">.</span><span class="n">FieldName</span><span class="p">}}</span>
</pre></div>
</div>
<p>Real world example:</p>
<p><code class="docutils literal"><span class="pre">{{Ticket.Requester.Title}}</span></code> - Requester is a lookup field to the contacts list. Title is an internal field name.</p>
<p>There are additional extensions for the Ticket token:</p>
<p><code class="docutils literal"><span class="pre">{{Ticket.AllComments}}</span></code> - returns a collection of list items for
comments. You can use <code class="docutils literal"><span class="pre">#each</span></code> (see <a class="reference external" href="#advanced-syntax">advanced syntax</a>) &nbsp;to iterate through
them.</p>
<p><code class="docutils literal"><span class="pre">{{Ticket.PublicComments}}</span></code> - returns a collection of list items for
public comments only.</p>
<p class="rubric">CurrentItem token</p>
<p>Email templates are used by notification workflows that process tickets
and comments. To retrieve current list item’s field values you can use
the <code class="docutils literal"><span class="pre">{{CurrentItem}}</span></code> token.</p>
<p>It supports the same logic as the <code class="docutils literal"><span class="pre">{{Ticket}}</span></code> token. There is only one
difference, it doesn’t have additional extensions like AllComments and
PublicComments.</p>
<p class="rubric">Context token</p>
<p>You can use the <code class="docutils literal"><span class="pre">{{Context}}</span></code> token to get site related information:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">Context</span><span class="o">.</span><span class="n">SiteUrl</span><span class="p">}}</span>
<span class="p">{{</span><span class="n">Context</span><span class="o">.</span><span class="n">ServerUrl</span><span class="p">}}</span>
</pre></div>
</div>
<p class="rubric">Data token</p>
<p><code class="docutils literal"><span class="pre">{{Data}}</span></code> is used when you specify custom template data in the <a class="reference external" href="Workflow%20actions.html#send-email">Send email</a> workflow action. You can access values from a custom template
like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="n">Data</span><span class="o">.**</span><span class="n">PropertyName</span><span class="o">**</span><span class="p">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="advanced-template-syntax">
<span id="advanced-syntax"></span><h2>Advanced template syntax<a class="headerlink" href="#advanced-template-syntax" title="Permalink to this headline">¶</a></h2>
<p>There are some additional helper tokens.</p>
<p class="rubric">The &#8216;Each&#8217;&nbsp;token</p>
<p>If you need to display a block of text for each item in a collection,
use the each token.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="c1">#!Ticket.AllComments.Body}}</span>
<span class="p">{{</span><span class="c1">#each Ticket.AllComments}}</span>
        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">Body</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{{</span><span class="o">/</span><span class="n">each</span><span class="p">}}</span>
</pre></div>
</div>
<p>Within the context of the each block, the scope changes to the current
item. So, in the example above, Body refers to a property in the
AllComments.</p>
<p>Take a look at&nbsp;<code class="docutils literal"><span class="pre">{{#!Ticket.AllComments.Body}}</span></code>. This expression begins
with <code class="docutils literal"><span class="pre">#!</span></code> and defines a property inside the collection which we want to
retrieve. Thus, we have to define all properties we will use before the
loop. In this example it is Body property.</p>
<p>Additionally, you can access the current index into the collection being
enumerated using the index token.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="c1">#each Ticket.AllComments}}</span>
 <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="p">{{</span><span class="c1">#index}}&lt;/div&gt;</span>
<span class="p">{{</span><span class="o">/</span><span class="n">each</span><span class="p">}}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">if</span></code>&nbsp;token allows you to conditionally include a block of text.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="c1">#if Ticket.Requester}}</span>
  <span class="p">{{</span><span class="n">Ticket</span><span class="o">.</span><span class="n">Requester</span><span class="o">.</span><span class="n">Title</span><span class="p">}}</span>
<span class="p">{{</span><span class="o">/</span><span class="k">if</span><span class="p">}}</span>
</pre></div>
</div>
<p>The block will be printed if:</p>
<ul class="simple">
<li>The value is a non-empty string.</li>
<li>The value is a non-empty collection.</li>
<li>The value isn&#8217;t the NULL char.</li>
<li>The value is a non-zero number.</li>
<li>The value evaluates to true.</li>
</ul>
<p>The <code class="docutils literal"><span class="pre">if</span></code> token&nbsp;has complimentary <code class="docutils literal"><span class="pre">elif</span></code> and <code class="docutils literal"><span class="pre">else</span></code> tokens. There
can be as many <code class="docutils literal"><span class="pre">elif</span></code> tokens&nbsp;as desired but the else token&nbsp;must appear
only once and after all other tokens.</p>
<p><code class="docutils literal"><span class="pre">{{#if</span> <span class="pre">Ticket.Requester}}</span></code> Requester is not empty <code class="docutils literal"><span class="pre">{{#elif</span>
<span class="pre">Ticket.AssignedTo}}</span></code> AssignedTo is not empty <code class="docutils literal"><span class="pre">{{#else}}</span></code> Requester and
AssignedTo are empty <code class="docutils literal"><span class="pre">{{/if}}</span></code></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Workflow customization.html" class="btn btn-neutral float-right" title="Workflows customization" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Condition Syntax.html" class="btn btn-neutral" title="Condition syntax" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Plumsail.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>